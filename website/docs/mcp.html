<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/jpeg" href="../assets/image.jpg">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../styles.css">
  <title>MCP | AgentSwarm Docs</title>
</head>
<body>
  <div class="bg-shape bg-shape-a"></div>
  <div class="bg-shape bg-shape-b"></div>
  <header class="site-header">
    <div class="brand">AgentSwarm Docs</div>
    <nav>
      <a href="../index.html">Home</a>
      <a href="./index.html">Docs Home</a>
      <a href="./community.html">Community</a>
      <a href="https://github.com/xerrien/agent-swarm" target="_blank" rel="noreferrer">GitHub</a>
    </nav>
  </header>
  <main class="docs-layout">
    <aside class="docs-sidebar">
      <p class="docs-title">Documentation</p>
      <a href="./index.html" class="">Overview</a>
      <a href="./architecture.html" class="">Architecture</a>
      <a href="./schemas.html" class="">Message Schemas</a>
      <a href="./api.html" class="">Control API</a>
      <a href="./runbooks.html" class="">Runbooks</a>
      <a href="./security.html" class="">Security</a>
      <a href="./deployment.html" class="">Deployment</a>
      <a href="./mcp.html" class="">MCP</a>
      <a href="./community.html" class="">Community</a>
      <a href="./troubleshooting.html" class="">Troubleshooting</a>
      <a href="./faq.html" class="">FAQ</a>
    </aside>
    <article class="docs-content">
      <section class="panel">
        <h1>MCP Integration</h1>
        <p class="lede-sm">AgentSwarm supports MCP-style local tool execution over typed <code>message</code> payloads with sender ACLs, per-tool rate limits, and idempotent request handling.</p>
      </section>

      <section class="panel">
        <h2>Default MCP tools</h2>
        <ul>
          <li><code>workspace.search</code> (args: <code>tag</code>, optional <code>limit</code>)</li>
          <li><code>task.execute_hook</code> (args: <code>reason</code>, optional <code>sender</code>)</li>
          <li><code>local.echo</code> (returns input args)</li>
        </ul>
      </section>

      <section class="panel">
        <h2>Invocation formats</h2>
        <div class="code-card"><pre>{"tool":"workspace.search","args":{"tag":"solidity","limit":5}}</pre></div>
        <div class="code-card"><pre>{"mcp":{"tool":"local.echo","args":{"x":1}}}</pre></div>
      </section>

      <section class="panel">
        <h2>Result envelope</h2>
        <ul>
          <li><code>type: "mcp_result"</code></li>
          <li><code>tool</code></li>
          <li><code>requestId</code></li>
          <li><code>deduped</code> (true when served from idempotency cache)</li>
          <li><code>result</code></li>
        </ul>
      </section>

      <section class="panel">
        <h2>Safety model</h2>
        <ul>
          <li>Sender-scoped ACL per tool</li>
          <li>Per-tool rate limits (default 30 calls / 60s per sender+tool)</li>
          <li>Idempotency cache keyed by <code>(sender, tool, requestId)</code></li>
          <li>Policy persistence in SQLite, auto-loaded on restart</li>
        </ul>
      </section>
    </article>
  </main>
  <footer class="site-footer">
    <p>AgentSwarm</p>
    <div class="footer-links">
      <a href="../index.html">Landing</a>
      <a href="./index.html">Docs</a>
      <a href="./community.html">Community</a>
    </div>
  </footer>
  <script src="../app.js"></script>
</body>
</html>



